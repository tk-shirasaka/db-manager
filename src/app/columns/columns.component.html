<app-parts-sidebar>
  <mat-form-field>
    <app-parts-icon class="position-absolute h-100 w-100" icon="search" (click)="filter = ''"></app-parts-icon>
    <input matInput [(ngModel)]="filter" name="filter" class="pl-4">
  </mat-form-field>
  <div *ngFor="let column of columns">
    <div class="mb-2" *ngIf="column.name.search(filter) >= 0">
      {{ column.name }}
      <app-parts-icon icon="key" [info]="true" *ngIf="column.primary"></app-parts-icon>
      <app-parts-icon icon="angle-double-up" [danger]="true" *ngIf="column.autoincrement"></app-parts-icon>
      : {{ column.unsigned ? 'unsigned' : '' }} {{ column.type }}{{ column.length ? '('+column.length+')' : '' }} {{ column.notnull ? '' : 'NULL'}}
      : <span class="text-info">{{ column.default === null ? 'NULL' : column.default }}</span>
    </div>
  </div>

  <main>
    <mat-tab-group>
      <mat-tab label="テーブル">
        <app-parts-paging [columns]="columns" [filter]="filter"></app-parts-paging>
      </mat-tab>
      <mat-tab label="設定">
        <app-parts-edit class="m-2"></app-parts-edit>
      </mat-tab>
    </mat-tab-group>
  </main>
</app-parts-sidebar>
